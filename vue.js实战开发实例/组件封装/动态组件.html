<!DOCTYPE html>
<html lang="zh-cn">

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title></title>
    <script src="../vue.js"></script>
</head>

<body>
    <div id="app">
        <input type="button" value="第一个组件" @click="tabComponent(1)">
        <input type="button" value="第二个组件" @click="tabComponent(2)">
        <input type="button" value="第三个组件" @click="tabComponent(3)">

        <!-- 保存组件切换之前的状态 -->
        <keep-alive>
            <component :is="current"></component>        
        </keep-alive>
    </div>
    <script>
         var custom1 = Vue.component('custom1', {
            template: `<div @click="changeBg">第1个组件</div>`,
            methods: {
                changeBg(ev){
                    ev.target.style.background = 'pink'
                }
            }
        })

        var custom2 = Vue.component('custom2', {
            template: `<div>第2个组件</div>`
        })

        var custom3 = Vue.component('custom3', {
            template: `<div>第3个组件</div>`
        })

        new Vue({
            el: '#app',
            data: {
                current: custom1
            },
            methods: {
                tabComponent(index){
                    this.current = 'custom' + index
                }
            }
        })
    </script>
</body>

</html>